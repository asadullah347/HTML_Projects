<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ì¹´ë“œ ì§ë§ì¶”ê¸° ê²Œì„</title>
<style>
  /* ê²Œì„ ë³´ë“œ */
  #game{
    display:grid;
    grid-template-columns: repeat(4, 60px); /* 4ì—´ */
    gap:10px;
    margin:  20px;
  }

  /* ì¹´ë“œ ìŠ¤íƒ€ì¼ */
  .card{
    width: 60px;
    height: 60px;
    background: #4caf50;
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    cursor: pointer;
    border-radius: 8px;
  }

  h1 { margin-left: 20px; }
</style>
</head>
<body>
  <h1>ì¹´ë“œ ì§ë§ì¶”ê¸° ê²Œì„</h1>
  <div id="game"></div>
  <p id="result"></p>

<script>
  const game = document.getElementById('game');
  const resultEl = document.getElementById('result');

  let first = null, second = null;
  let matched = 0;
  let lockBoard = false;

  // ì¹´ë“œ ìˆ«ìë“¤ (ì§ 4ìŒ = 8ì¥)
  const numbers = [1,1,2,2,3,3,4,4];

  // ì„ê¸°
  const shuffled = numbers.sort(() => Math.random() - 0.5);

  // ì¹´ë“œ ìƒì„±
  shuffled.forEach(num => {
    const card = document.createElement('div');
    card.className = 'card';
    card.textContent = '?'; // ì²˜ìŒì—ëŠ” ìˆ¨ê¹€
    card.dataset.value = num; // ì‹¤ì œ ìˆ«ì ì €ì¥
    card.addEventListener('click', () => flip(card));
    game.appendChild(card);
  });

  // ì¹´ë“œ í´ë¦­ ì‹œ ë™ì‘
  function flip(card) {
    if (lockBoard) return; // ë¹„êµ ì¤‘ì¼ ë•Œ í´ë¦­ ë°©ì§€
    if (card === first) return; // ê°™ì€ ì¹´ë“œ í´ë¦­ ë°©ì§€
    if (card.textContent !== '?') return; // ì´ë¯¸ ì—´ë¦° ì¹´ë“œ ë¬´ì‹œ

    // ì¹´ë“œ ì—´ê¸°
    card.textContent = card.dataset.value;

    if (!first) {
      // ì²« ë²ˆì§¸ ì¹´ë“œ ì €ì¥
      first = card;
      return;
    }

    // ë‘ ë²ˆì§¸ ì¹´ë“œ ì €ì¥
    second = card;
    lockBoard = true;

    // ë¹„êµ
    if (first.dataset.value === second.dataset.value) {
      // ì¼ì¹˜ ì‹œ ìœ ì§€
      matched += 2;
      first = second = null;
      lockBoard = false;

      if (matched === shuffled.length) {
        resultEl.textContent = 'ğŸ‰ ëª¨ë‘ ë§ì·„ì–´ìš”!';
      }
    } else {
      // ë¶ˆì¼ì¹˜ ì‹œ ì ì‹œ í›„ ë’¤ì§‘ê¸°
      setTimeout(() => {
        first.textContent = '?';
        second.textContent = '?';
        first = second = null;
        lockBoard = false;
      }, 700);
    }
  }
</script>
</body>
</html>
